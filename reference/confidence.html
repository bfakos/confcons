<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Confidence of the predictive distribution model — confidence • confcons</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Confidence of the predictive distribution model — confidence"><meta name="description" content='Calculate the confidence in positive predictions within known presences (CPP,
type = "positive") or confidence in predictions within known presences
(CP, type = "neutral") based on the occurrence observations,
the predictions of the probability of occurrence, and the two
thresholds distinguishing certain negatives/positives from uncertain
predictions.'><meta property="og:description" content='Calculate the confidence in positive predictions within known presences (CPP,
type = "positive") or confidence in predictions within known presences
(CP, type = "neutral") based on the occurrence observations,
the predictions of the probability of occurrence, and the two
thresholds distinguishing certain negatives/positives from uncertain
predictions.'></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">confcons</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.3.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/introduction_to_confcons.html">Introduction to package 'confcons'</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/bfakos/confcons/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Confidence of the predictive distribution model</h1>
      <small class="dont-index">Source: <a href="https://github.com/bfakos/confcons/blob/v0.3.2/R/confidence.r" class="external-link"><code>R/confidence.r</code></a></small>
      <div class="d-none name"><code>confidence.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Calculate the confidence in positive predictions within known presences (CPP,
<code>type = "positive"</code>) or confidence in predictions within known presences
(CP, <code>type = "neutral"</code>) based on the occurrence <code>observations</code>,
the <code>predictions</code> of the probability of occurrence, and the two
<code>thresholds</code> distinguishing certain negatives/positives from uncertain
predictions.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">confidence</span><span class="op">(</span></span>
<span>  <span class="va">observations</span>,</span>
<span>  <span class="va">predictions</span>,</span>
<span>  thresholds <span class="op">=</span> <span class="fu">confcons</span><span class="fu">::</span><span class="fu"><a href="thresholds.html">thresholds</a></span><span class="op">(</span>observations <span class="op">=</span> <span class="va">observations</span>, predictions <span class="op">=</span></span>
<span>    <span class="va">predictions</span><span class="op">)</span>,</span>
<span>  type <span class="op">=</span> <span class="st">"positive"</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-observations">observations<a class="anchor" aria-label="anchor" href="#arg-observations"></a></dt>
<dd><p>Either an integer or logical vector containing the binary
observations where presences are encoded as <code>1</code>s/<code>TRUE</code>s and
absences as <code>0</code>s/<code>FALSE</code>s.</p></dd>


<dt id="arg-predictions">predictions<a class="anchor" aria-label="anchor" href="#arg-predictions"></a></dt>
<dd><p>A numeric vector containing the predicted probabilities of
occurrence typically within the <code>[0, 1]</code> interval.
<code>length(predictions)</code> should be equal to <code>length(observations)</code>
and the order of the elements should match.</p></dd>


<dt id="arg-thresholds">thresholds<a class="anchor" aria-label="anchor" href="#arg-thresholds"></a></dt>
<dd><p>A numeric vector of length two, typically calculated by
<code><a href="thresholds.html">thresholds</a>()</code>. The first element distinguishes certain
negatives (certain absences) from uncertain predictions. The second element
distinguishes certain positives (certain presences) from uncertain
predictions. If missing, <code>confcons::thresholds(observations =
observations, predictions = predictions)</code> is called, but see section 'Note'
about why you should not use the default value.</p></dd>


<dt id="arg-type">type<a class="anchor" aria-label="anchor" href="#arg-type"></a></dt>
<dd><p>A character vector of length one containing the value "positive"
(for calculating <em>confidence in positive predictions</em> within known
presences (CPP)) or "neutral" (for calculating <em>confidence in
predictions</em> within known presences (CP)). Defaults to "positive".</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A numeric vector of length one. It is either NA_real_ or a positive
  number within the <code>[0, 1]</code> interval. Larger value indicates that the
  model is more confident.</p>
    </div>
    <div class="section level2">
    <h2 id="note">Note<a class="anchor" aria-label="anchor" href="#note"></a></h2>
    <p>Technically, confidence can be calculated for the training subset, the
  evaluation subset, or the whole dataset as well. Note, however, that there
  is not so much sense to calculate confidence in the training subset, except
  for using the result for <code><a href="consistency.html">consistency</a></code> calculation. If you need
  only the confidence measure, calculate it on the evaluation subset using
  <code><a href="thresholds.html">thresholds</a></code> previously determined on the whole dataset (i.e.,
  do not use the default value of parameter <code>thresholds</code>). See the last
  example below and the vignette.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="thresholds.html">thresholds</a></code> for calculating the two thresholds,
  <code><a href="consistency.html">consistency</a></code> for calculating consistency</p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">12345</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Using logical observations, default 'thresholds' and 'type' parameter:</span></span></span>
<span class="r-in"><span><span class="va">observations_1000_logical</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span>x <span class="op">=</span> <span class="cn">FALSE</span>, times <span class="op">=</span> <span class="fl">500</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                               <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span>x <span class="op">=</span> <span class="cn">TRUE</span>, times <span class="op">=</span> <span class="fl">500</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">predictions_1000</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">500</span>, min <span class="op">=</span> <span class="fl">0</span>, max <span class="op">=</span> <span class="fl">0.7</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                      <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">500</span>, min <span class="op">=</span> <span class="fl">0.3</span>, max <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">confidence</span><span class="op">(</span>observations <span class="op">=</span> <span class="va">observations_1000_logical</span>,</span></span>
<span class="r-in"><span>           predictions <span class="op">=</span> <span class="va">predictions_1000</span><span class="op">)</span> <span class="co"># 0.561</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.5607064</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Using integer observations, default 'thresholds' parameter,</span></span></span>
<span class="r-in"><span><span class="co"># both 'positive' and 'neutral' confidence type:</span></span></span>
<span class="r-in"><span><span class="va">observations_4000_integer</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fl">0L</span>, times <span class="op">=</span> <span class="fl">3000</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                               <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fl">1L</span>, times <span class="op">=</span> <span class="fl">1000</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">predictions_4000</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">3000</span>, min <span class="op">=</span> <span class="fl">0</span>, max <span class="op">=</span> <span class="fl">0.8</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                      <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">1000</span>, min <span class="op">=</span> <span class="fl">0.2</span>, max <span class="op">=</span> <span class="fl">0.9</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">confidence</span><span class="op">(</span>observations <span class="op">=</span> <span class="va">observations_4000_integer</span>,</span></span>
<span class="r-in"><span>           predictions <span class="op">=</span> <span class="va">predictions_4000</span>, type <span class="op">=</span> <span class="st">"positive"</span><span class="op">)</span> <span class="co"># 0.691</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.6912378</span>
<span class="r-in"><span><span class="fu">confidence</span><span class="op">(</span>observations <span class="op">=</span> <span class="va">observations_4000_integer</span>,</span></span>
<span class="r-in"><span>           predictions <span class="op">=</span> <span class="va">predictions_4000</span>, type <span class="op">=</span> <span class="st">"neutral"</span><span class="op">)</span> <span class="co"># 0.778</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.778</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Using some previously selected thresholds:</span></span></span>
<span class="r-in"><span><span class="va">strict_thresholds</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.1</span>, <span class="fl">0.9</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">permissive_thresholds</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.4</span>, <span class="fl">0.5</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">percentile_thresholds</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/quantile.html" class="external-link">quantile</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">predictions_4000</span><span class="op">[</span><span class="va">observations_4000_integer</span> <span class="op">==</span> <span class="fl">1</span><span class="op">]</span>,</span></span>
<span class="r-in"><span>                                  probs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.1</span>, <span class="fl">0.9</span><span class="op">)</span><span class="op">)</span> <span class="co"># 10th and 90th percentile</span></span></span>
<span class="r-in"><span><span class="fu">confidence</span><span class="op">(</span>observations <span class="op">=</span> <span class="va">observations_4000_integer</span>,</span></span>
<span class="r-in"><span>           predictions <span class="op">=</span> <span class="va">predictions_4000</span>,</span></span>
<span class="r-in"><span>           thresholds <span class="op">=</span> <span class="va">strict_thresholds</span>,</span></span>
<span class="r-in"><span>           type <span class="op">=</span> <span class="st">"neutral"</span><span class="op">)</span> <span class="co"># 0</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0</span>
<span class="r-in"><span><span class="fu">confidence</span><span class="op">(</span>observations <span class="op">=</span> <span class="va">observations_4000_integer</span>,</span></span>
<span class="r-in"><span>           predictions <span class="op">=</span> <span class="va">predictions_4000</span>,</span></span>
<span class="r-in"><span>           thresholds <span class="op">=</span> <span class="va">permissive_thresholds</span>,</span></span>
<span class="r-in"><span>           type <span class="op">=</span> <span class="st">"neutral"</span><span class="op">)</span> <span class="co"># 0.836</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.836</span>
<span class="r-in"><span><span class="fu">confidence</span><span class="op">(</span>observations <span class="op">=</span> <span class="va">observations_4000_integer</span>,</span></span>
<span class="r-in"><span>           predictions <span class="op">=</span> <span class="va">predictions_4000</span>,</span></span>
<span class="r-in"><span>           thresholds <span class="op">=</span> <span class="va">percentile_thresholds</span>,</span></span>
<span class="r-in"><span>           type <span class="op">=</span> <span class="st">"neutral"</span><span class="op">)</span> <span class="co"># 0.2</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.2</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Real-life case</span></span></span>
<span class="r-in"><span><span class="co"># (thresholds calculated from the whole dataset, confidence from the evaluation subset):</span></span></span>
<span class="r-in"><span><span class="va">dataset</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  observations <span class="op">=</span> <span class="va">observations_4000_integer</span>,</span></span>
<span class="r-in"><span>  predictions <span class="op">=</span> <span class="va">predictions_4000</span>,</span></span>
<span class="r-in"><span>  evaluation_mask <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span>x <span class="op">=</span> <span class="cn">FALSE</span>, times <span class="op">=</span> <span class="fl">250</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                      <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span>x <span class="op">=</span> <span class="cn">TRUE</span>, times <span class="op">=</span> <span class="fl">250</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                      <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span>x <span class="op">=</span> <span class="cn">FALSE</span>, times <span class="op">=</span> <span class="fl">250</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                      <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span>x <span class="op">=</span> <span class="cn">TRUE</span>, times <span class="op">=</span> <span class="fl">250</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">thresholds_whole</span> <span class="op">&lt;-</span> <span class="fu"><a href="thresholds.html">thresholds</a></span><span class="op">(</span>observations <span class="op">=</span> <span class="va">dataset</span><span class="op">$</span><span class="va">observations</span>,</span></span>
<span class="r-in"><span>                               predictions <span class="op">=</span> <span class="va">dataset</span><span class="op">$</span><span class="va">predictions</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">(</span><span class="va">confidence_evaluation</span> <span class="op">&lt;-</span> <span class="fu">confidence</span><span class="op">(</span>observations <span class="op">=</span> <span class="va">dataset</span><span class="op">$</span><span class="va">observations</span><span class="op">[</span><span class="va">dataset</span><span class="op">$</span><span class="va">evaluation_mask</span><span class="op">]</span>,</span></span>
<span class="r-in"><span>                                     predictions <span class="op">=</span> <span class="va">dataset</span><span class="op">$</span><span class="va">predictions</span><span class="op">[</span><span class="va">dataset</span><span class="op">$</span><span class="va">evaluation_mask</span><span class="op">]</span>,</span></span>
<span class="r-in"><span>                                     thresholds <span class="op">=</span> <span class="va">thresholds_whole</span><span class="op">)</span><span class="op">)</span> <span class="co"># 0.671</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.6713092</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Wrong parameterization:</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/try.html" class="external-link">try</a></span><span class="op">(</span><span class="fu">confidence</span><span class="op">(</span>observations <span class="op">=</span> <span class="va">observations_1000_logical</span>,</span></span>
<span class="r-in"><span>               predictions <span class="op">=</span> <span class="va">predictions_1000</span>,</span></span>
<span class="r-in"><span>               type <span class="op">=</span> <span class="st">"pos"</span><span class="op">)</span><span class="op">)</span> <span class="co"># error</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Error in confidence(observations = observations_1000_logical, predictions = predictions_1000,  : </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Parameter 'type' must be 'positive' or 'neutral'.</span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/try.html" class="external-link">try</a></span><span class="op">(</span><span class="fu">confidence</span><span class="op">(</span>observations <span class="op">=</span> <span class="va">observations_1000_logical</span>,</span></span>
<span class="r-in"><span>               predictions <span class="op">=</span> <span class="va">predictions_1000</span>,</span></span>
<span class="r-in"><span>               thresholds <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.2</span>, <span class="cn">NA_real_</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="co"># warning</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Parameter 'thresholds' is expected to contain numbers falling within the [0, 1] interval, but found to contain 0.200 and NA.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] NA</span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/try.html" class="external-link">try</a></span><span class="op">(</span><span class="fu">confidence</span><span class="op">(</span>observations <span class="op">=</span> <span class="va">observations_1000_logical</span>,</span></span>
<span class="r-in"><span>               predictions <span class="op">=</span> <span class="va">predictions_1000</span>,</span></span>
<span class="r-in"><span>               thresholds <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">0.4</span>, <span class="fl">0.85</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="co"># warning</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Parameter 'thresholds' is expected to contain numbers falling within the [0, 1] interval, but found to contain -0.400 and 0.850.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.186</span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/try.html" class="external-link">try</a></span><span class="op">(</span><span class="fu">confidence</span><span class="op">(</span>observations <span class="op">=</span> <span class="va">observations_1000_logical</span>,</span></span>
<span class="r-in"><span>               predictions <span class="op">=</span> <span class="va">predictions_1000</span>,</span></span>
<span class="r-in"><span>               thresholds <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.6</span>, <span class="fl">0.3</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="co"># warning</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Parameter 'thresholds' is expected to contain two numbers increasing strictly monotonously, i.e. thresholds[1] &lt; thresholds[2], but found to contain 0.600 and 0.300, respectively.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1</span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/try.html" class="external-link">try</a></span><span class="op">(</span><span class="fu">confidence</span><span class="op">(</span>observations <span class="op">=</span> <span class="va">observations_1000_logical</span>,</span></span>
<span class="r-in"><span>               predictions <span class="op">=</span> <span class="va">predictions_4000</span><span class="op">)</span><span class="op">)</span> <span class="co"># error</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Error in confidence(observations = observations_1000_logical, predictions = predictions_4000) : </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   The length of parameters 'observations' and 'predictions' should be the same.</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">12345</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">observations_4000_numeric</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fl">0</span>, times <span class="op">=</span> <span class="fl">3000</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                               <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fl">1</span>, times <span class="op">=</span> <span class="fl">1000</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">predictions_4000_strange</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">3000</span>, min <span class="op">=</span> <span class="op">-</span><span class="fl">0.3</span>, max <span class="op">=</span> <span class="fl">0.4</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                              <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">1000</span>, min <span class="op">=</span> <span class="fl">0.6</span>, max <span class="op">=</span> <span class="fl">1.5</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/try.html" class="external-link">try</a></span><span class="op">(</span><span class="fu">confidence</span><span class="op">(</span>observations <span class="op">=</span> <span class="va">observations_4000_numeric</span>,</span></span>
<span class="r-in"><span>               predictions <span class="op">=</span> <span class="va">predictions_4000_strange</span>,</span></span>
<span class="r-in"><span>               thresholds <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.2</span>, <span class="fl">0.7</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="co"># multiple warnings</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>I found that parameter 'observations' is not an integer or logical vector. Coercion is done.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Strange predicted values found. Parameter 'predictions' preferably contains numbers falling within the [0,1] interval.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.883</span>
<span class="r-in"><span><span class="va">mask_of_normal_predictions</span> <span class="op">&lt;-</span> <span class="va">predictions_4000_strange</span> <span class="op">&gt;=</span> <span class="fl">0</span> <span class="op">&amp;</span> <span class="va">predictions_4000_strange</span> <span class="op">&lt;=</span> <span class="fl">1</span></span></span>
<span class="r-in"><span><span class="fu">confidence</span><span class="op">(</span>observations <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/integer.html" class="external-link">as.integer</a></span><span class="op">(</span><span class="va">observations_4000_numeric</span><span class="op">)</span><span class="op">[</span><span class="va">mask_of_normal_predictions</span><span class="op">]</span>,</span></span>
<span class="r-in"><span>           predictions <span class="op">=</span> <span class="va">predictions_4000_strange</span><span class="op">[</span><span class="va">mask_of_normal_predictions</span><span class="op">]</span>,</span></span>
<span class="r-in"><span>           thresholds <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.2</span>, <span class="fl">0.7</span><span class="op">)</span><span class="op">)</span> <span class="co"># OK</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.7434211</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Ákos Bede-Fazekas, Imelda Somodi.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

